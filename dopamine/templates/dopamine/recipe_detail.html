{% extends "dopamine/base.html" %}
{% load static %} 

{% block extra_css %}
<link href="{% static 'dopamine/css/recipe_detail.css' %}" rel="stylesheet">
{% endblock %}

{% block main-content %}
<div class="recipe-detail">
   <div class="recipe-intro">
  <div class="intro-text">
    <h1>{{ recipe.name }}</h1>
    <p>{{ recipe.description }}</p>
  </div>
  <div class="intro-image">
    <img src="{{ recipe.image.url }}" alt="{{ recipe.name }}">
  </div>
</div>
<hr>


<h3>Nguyên liệu</h3>
<ul style="padding-left: 18px;">
    {% for ing in parsed_ingredients %}
        {% if ing.type == 'header' %}
            <li style="font-weight: bold; list-style: none; margin-top: 10px;">{{ ing.content }}</li>
        {% else %}
            <li style="margin-left: 20px;">{{ ing.content }}</li>
        {% endif %}
    {% endfor %}
</ul>


<h3>Hướng dẫn</h3>
<p>
    {% for step in steps_list %}
    {{ step|safe }}<br>
    {% endfor %}
</p>
<h3>Các bước thực hiện chi tiết (kèm hình ảnh)</h3>
<div class="detailed-steps">
    {% for step in detailed_steps %}
    <div class="step" style="margin-bottom: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
        <p style="font-size: 16px; line-height: 1.5;">{{ step.description|linebreaks }}</p>
        {% if step.image %}
        <img src="{{ step.image.url }}" alt="Hình minh họa" style="width:100%; max-width:500px; height:auto; margin-top: 10px; border-radius: 5px;">
        {% endif %}
    </div>
    {% endfor %}
</div>

</div>
{% endblock main-content %}
